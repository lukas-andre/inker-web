---
// Navbar.astro
const navItems = {
  left: ['Principal', 'Nosotros'],
  right: ['App', 'Testimonios']
};

const currentPath = Astro.url.pathname;
---

<nav class="flex h-16 w-full items-center justify-between bg-[#1a1a1a] px-8">
  <div class="flex gap-8">
    {navItems.left.map((item) => (
      <a
        href={`/${item.toLowerCase()}`}
        class:list={[
          'relative text-gray-200 hover:text-white',
          'nav-link',
          { active: currentPath === `/${item.toLowerCase()}` }
        ]}
      >
        {item}
        <span class="absolute -bottom-1 left-0 h-0.5 w-full bg-purple-500 opacity-0 transition-opacity duration-200" />
      </a>
    ))}
  </div>

  <div class="flex items-center justify-center">
    <!-- Espacio para el logo -->
    <span class="text-2xl font-bold text-purple-500">
      <!-- Reemplaza esto con tu logo -->
      inker
    </span>
  </div>

  <div class="flex gap-8">
    {navItems.right.map((item) => (
      <a
        href={`/${item.toLowerCase()}`}
        class:list={[
          'relative text-gray-200 hover:text-white',
          'nav-link',
          { active: currentPath === `/${item.toLowerCase()}` }
        ]}
      >
        {item}
        <span class="absolute -bottom-1 left-0 h-0.5 w-full bg-purple-500 opacity-0 transition-opacity duration-200" />
      </a>
    ))}
  </div>
</nav>

<style>
  .nav-link.active span {
    opacity: 1;
  }
</style>

<script>
  // Manejo del estado activo
  const navLinks = document.querySelectorAll('.nav-link');
  const currentPath = window.location.pathname;

  navLinks.forEach(link => {
    if (link instanceof HTMLAnchorElement) {
      const href = link.getAttribute('href');
      if (href === currentPath) {
        link.classList.add('active');
      }

      // Actualizar el estado activo al hacer clic
      link.addEventListener('click', () => {
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
      });
    }
  });
</script>